:root {
  /* Density + Tailwind-aligned spacing ladder (4px base). */
  --gt-density: 1;

  /* Spacing ladder (4px base): 0, 2, 4, 8, 12, 16, 20, 24, 32, 40px. */
  /* Base ladder tokens remain static; scaled tokens apply density once. */
  --gt-space-base-0: 0;
  --gt-space-base-0-5: 0.125rem;
  --gt-space-base-1: 0.25rem;
  --gt-space-base-2: 0.5rem;
  --gt-space-base-3: 0.75rem;
  --gt-space-base-4: 1rem;
  --gt-space-base-5: 1.25rem;
  --gt-space-base-6: 1.5rem;
  --gt-space-base-7: 2rem;
  --gt-space-base-8: 2.5rem;

  --gt-space-0: var(--gt-space-base-0);
  --gt-space-0-5: calc(var(--gt-space-base-0-5) * var(--gt-density, 1));
  --gt-space-1: calc(var(--gt-space-base-1) * var(--gt-density, 1));
  --gt-space-2: calc(var(--gt-space-base-2) * var(--gt-density, 1));
  --gt-space-3: calc(var(--gt-space-base-3) * var(--gt-density, 1));
  --gt-space-4: calc(var(--gt-space-base-4) * var(--gt-density, 1));
  --gt-space-5: calc(var(--gt-space-base-5) * var(--gt-density, 1));
  --gt-space-6: calc(var(--gt-space-base-6) * var(--gt-density, 1));
  --gt-space-7: calc(var(--gt-space-base-7) * var(--gt-density, 1));
  --gt-space-8: calc(var(--gt-space-base-8) * var(--gt-density, 1));

  /* Backwards-compatible semantic aliases. */
  --gt-space-xs: var(--gt-space-1, 0.25rem);
  --gt-space-sm: var(--gt-space-2, 0.5rem);
  --gt-space-md: var(--gt-space-3, 0.75rem);
  --gt-space-lg: var(--gt-space-4, 1rem);
  --gt-space-xl: var(--gt-space-6, 1.5rem);

  /* Radius scale */
  --gt-radius-sm: 0.5rem;
  --gt-radius-md: 0.625rem;
  --gt-radius-lg: 0.75rem;
  --gt-radius-xl: 1rem;

  /* Type scale */
  --gt-text-label: 0.76rem;
  --gt-text-body: 0.94rem;
  --gt-text-title: 1.1rem;

  /* Elevation */
  --gt-elevation-1: 0 10px 22px rgba(0, 0, 0, 0.22);
  --gt-elevation-2: 0 16px 30px rgba(0, 0, 0, 0.26);

  /* Core dark palette */
  --gt-bg: #101418;
  --gt-surface: #171c22;
  --gt-surface-2: #202833;
  --gt-border: #2f3a47;
  --gt-border-subtle: #2a3440;
  --gt-text: #f3f6fa;
  --gt-text-muted: #b8c3d1;
  --gt-accent: #6bb0ff;
  --gt-accent-2: #66d0a1;
  --gt-danger: #ff8f8f;
  --gt-warning: #f4cf6b;
  --gt-selected-bg: color-mix(in srgb, var(--gt-accent) 14%, var(--gt-surface-2));
  --gt-selected-outline: color-mix(in srgb, var(--gt-accent) 62%, var(--gt-border));

  /* Domain UI semantics */
  --gt-cell: var(--gt-surface-2);
  --gt-cell-selected: var(--gt-selected-bg);
  --gt-cell-muted: color-mix(in srgb, var(--gt-surface) 84%, var(--gt-text-muted) 16%);
  /* Nested cell surface scale: 1 is smallest/leaf (lightest), 4 is outermost (card-dark). */
  --gt-cell-surface-1: var(--gt-surface-2);
  --gt-cell-surface-2: color-mix(in srgb, var(--gt-surface-2) 60%, var(--gt-surface) 40%);
  --gt-cell-surface-3: color-mix(in srgb, var(--gt-surface-2) 30%, var(--gt-surface) 70%);
  --gt-cell-surface-4: var(--gt-surface);
  --gt-outline-focus: #86c6ff;

  /* Compatibility aliases for existing modules */
  --bg: var(--gt-bg);
  --surface: var(--gt-surface);
  --surface-elevated: var(--gt-surface-2);
  --border: var(--gt-border);
  --divider: var(--gt-border-subtle);
  --text: var(--gt-text);
  --text-muted: var(--gt-text-muted);
  --primary: var(--gt-accent);
  --primary-contrast: #061424;
  --danger: var(--gt-danger);
  --success: var(--gt-accent-2);
  --warning: var(--gt-warning);
  --focus: var(--gt-outline-focus);
  --success-foreground: var(--gt-text);
  --warning-foreground: var(--gt-text);
  --gt-safe-bottom-offset: calc(env(safe-area-inset-bottom) + var(--gt-space-3));
}

@media (max-width: 30rem) {
  :root {
    /* Keep compact mode dense but readable on narrow screens. */
    --gt-density: 0.94;
  }
}
